
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

ðŸ”§ Google OAuth Configuration: {
  webClientId: 'configured',
  iosClientId: 'configured',
  androidClientId: 'not configured'
}
ðŸš€ Initializing server with timeout and error handling...
âœ… Google OAuth strategy configured with dynamic callback URL
ðŸ“± Apple OAuth callback URL configured: https://mytrainpro.com/api/auth/apple/callback
âœ… Apple Sign In strategy configured with dynamic callback URL
Checking existing exercises before initialization...
Found 294 existing exercises in database.
Exercises already initialized, skipping.
Initializing nutrition database...
Nutrition database already initialized
Initializing Volume Landmarks system...
Muscle groups already exist
Volume landmarks already exist for user
Exercise muscle mappings already exist
Volume Landmarks system initialized successfully
Refreshing system templates to ensure correct structure...
Training templates already initialized
âœ… Routes registered successfully
ðŸ¤– Auto-adjustment scheduler started
ðŸ“… Auto-adjustment scheduled for 10/22/2025, 6:00:00 AM
ðŸ“… Auto-adjustment scheduler initialized
4:26:05 AM [express] serving on port 5000
âœ… Email service initialized successfully
âœ… Email service ready for verification emails

warn - The class `before:ease-[cubic-bezier(0.4,0,0.2,1)]` is ambiguous and matches multiple utilities.
warn - If this is content and not a class, replace it with `before:ease-&lsqb;cubic-bezier(0.4,0,0.2,1)&rsqb;` to silence this warning.

warn - The class `ease-[cubic-bezier(0.4,0,0.2,1)]` is ambiguous and matches multiple utilities.
warn - If this is content and not a class, replace it with `ease-&lsqb;cubic-bezier(0.4,0,0.2,1)&rsqb;` to silence this warning.
ðŸ”„ Daily auto-adjustment check started...
ðŸ” Checking auto-adjustment for user 1
â° Days since last adjustment: 0, frequency: biweekly
â­ï¸ Skipping user 1 - not time for adjustment yet
âœ… Daily auto-adjustment complete. Processed 1 users at 10/22/2025, 4:26:16 AM.
Auth check - Session ID: lfi_rg_N3yNZs_qeta-Ljh924z2Ewqsc
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Session auth user found: c0109009@gmail.com
4:26:22 AM [express] GET /api/auth/user 200 in 69ms :: {"user":{"id":1,"email":"c0109009@gmail.com",â€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:26:23 AM [express] GET /api/user/first-time-check 304 in 289ms :: {"hasAnyData":true,"hasCompletedâ€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:26:25 AM [express] GET /api/nutrition/summary 304 in 119ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:26:25 AM [express] GET /api/diet-goals 304 in 69ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
4:26:25 AM [express] GET /api/training/stats 304 in 96ms :: {"totalSessions":9,"totalVolume":99428,"â€¦
ðŸ“… GET: Found checkin: null
4:26:25 AM [express] GET /api/training/sessions 304 in 144ms :: [{"id":543,"userId":1,"programId":nuâ€¦
4:26:25 AM [express] GET /api/body-metrics 304 in 146ms :: [{"id":86,"userId":1,"date":"2025-10-17T0â€¦
4:26:25 AM [express] GET /api/daily-wellness-checkins 200 in 146ms
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
4:26:25 AM [express] GET /api/user/profile 304 in 167ms :: {"user":{"id":1,"email":"c0109009@gmail.câ€¦
4:26:25 AM [express] GET /api/activities 304 in 403ms :: [{"id":"nutrition-1671","type":"nutrition",â€¦
Auth check - Session ID: N2InONxnqJQOLDfJK8zu-nqpNVwBW1fE
Auth check - Replit Auth authenticated: false
Auth check - Session userId: undefined
No authenticated user found
4:26:28 AM [express] GET /api/auth/user 401 in 3ms :: {"message":"Unauthorized"}
Auth check - Session ID: lfi_rg_N3yNZs_qeta-Ljh924z2Ewqsc
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Session auth user found: c0109009@gmail.com
4:26:36 AM [express] GET /api/auth/user 200 in 143ms :: {"user":{"id":1,"email":"c0109009@gmail.com"â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:26:36 AM [express] GET /api/user/first-time-check 304 in 272ms :: {"hasAnyData":true,"hasCompletedâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
4:27:22 AM [express] GET /api/training/sessions 304 in 310ms :: [{"id":543,"userId":1,"programId":nuâ€¦
4:27:22 AM [express] GET /api/body-metrics 304 in 310ms :: [{"id":86,"userId":1,"date":"2025-10-17T0â€¦
4:27:22 AM [express] GET /api/diet-goals 304 in 314ms :: {"id":47,"userId":1,"tdee":"2595.00","goal"â€¦
4:27:22 AM [express] GET /api/user/profile 304 in 343ms :: {"user":{"id":1,"email":"c0109009@gmail.câ€¦
4:27:22 AM [express] GET /api/training/stats 304 in 364ms :: {"totalSessions":9,"totalVolume":99428,â€¦
4:27:22 AM [express] GET /api/nutrition/summary 304 in 376ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
ðŸ“… GET: Found checkin: null
4:27:22 AM [express] GET /api/daily-wellness-checkins 200 in 67ms
4:27:23 AM [express] GET /api/activities 304 in 270ms :: [{"id":"nutrition-1671","type":"nutrition",â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
4:27:23 AM [express] GET /api/nutrition/logs 304 in 69ms :: []
4:27:23 AM [express] GET /api/nutrition/summary 304 in 114ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:27:24 AM [express] GET /api/nutrition/logs 304 in 64ms :: []
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:27:24 AM [express] GET /api/diet-goals 304 in 69ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:27:24 AM [express] GET /api/user/profile 304 in 87ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
4:27:24 AM [express] GET /api/body-metrics 304 in 65ms :: [{"id":86,"userId":1,"date":"2025-10-17T00â€¦
4:27:24 AM [express] GET /api/diet-goals 304 in 67ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
4:27:24 AM [express] GET /api/auto-adjustment-settings 304 in 65ms :: {"autoAdjustmentEnabled":true,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:27:25 AM [express] GET /api/weight-goals 304 in 73ms :: [{"id":6,"userId":1,"currentWeight":"71.50â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
ðŸ“… GET: Found checkin: null
4:27:25 AM [express] GET /api/daily-wellness-checkins 200 in 64ms
4:27:25 AM [express] GET /api/nutrition/available-weeks 304 in 71ms :: [{"weekStart":"2025-10-20","lâ€¦
4:27:25 AM [express] GET /api/weekly-wellness-summary 304 in 70ms :: {"id":8,"userId":1,"weekStartDaâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:27:25 AM [express] GET /api/meal-distribution 304 in 66ms :: [{"id":1,"userId":1,"mealType":"breakâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
4:27:25 AM [express] GET /api/flexibility-rules 304 in 66ms :: [{"id":1,"userId":1,"ruleName":"Weekeâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
4:27:25 AM [express] GET /api/user/profile 304 in 92ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
4:27:25 AM [express] GET /api/analytics/comprehensive 304 in 120ms :: {"overview":{"nutritionConsistâ€¦
ðŸ’¾ getDietGoal query result in RP calculation: {
  id: 1,
  userId: 1,
  tdee: '2579.00',
  goal: 'bulk',
  targetCalories: '3150.00',
  customTargetCalories: null,
  useCustomCalories: false,
  targetProtein: '197.00',
  targetCarbs: '449.00',
  targetFat: '63.00',
  autoRegulation: true,
  weeklyWeightTarget: '0.00',
  createdAt: 2025-07-18T02:21:45.445Z,
  updatedAt: 2025-10-22T04:17:58.813Z
}
ðŸ‹ï¸ Weight Query Debug - Date ranges: {
  weekStart: '2025-10-20T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  previousWeekStart: '2025-10-13T00:00:00.000Z',
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z'
}
ðŸ‹ï¸ Weight Data Found: {
  currentWeekWeight: undefined,
  previousWeekWeight: {
    id: 86,
    userId: 1,
    date: 2025-10-17T00:00:00.000Z,
    weight: '75.16',
    bodyFatPercentage: '12.50',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-17T13:14:15.412Z
  }
}
ðŸ” Weight Data for Linear Regression: {
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  totalDataPoints: 3
}
ðŸ§® Valid Weight Data Points: {
  total: 3,
  weights: [
    { date: '2025-10-17', weight: 75.16 },
    { date: '2025-10-15', weight: 74.21 },
    { date: '2025-10-10', weight: 74.03 }
  ]
}
ðŸ“ˆ Linear Regression Weight Analysis: {
  dataPoints: 3,
  dailySlope: '0.5650',
  weeklyTrendKg: '3.95',
  currentWeightKg: '75.2',
  oldestWeightKg: '74.0'
}
ðŸ” RP Algorithm Debug - All Variables: {
  hasCurrentDietGoal: true,
  hasCurrentWeight: true,
  hasPreviousWeight: true,
  goalType: 'bulk',
  goalTypeString: 'string',
  targetWeightChangePerWeek: 0,
  weightChange: 3.9549999999998513,
  adherencePercentage: 97,
  currentDietGoalFull: {
    id: 1,
    userId: 1,
    tdee: '2579.00',
    goal: 'bulk',
    targetCalories: '3150.00',
    customTargetCalories: null,
    useCustomCalories: false,
    targetProtein: '197.00',
    targetCarbs: '449.00',
    targetFat: '63.00',
    autoRegulation: true,
    weeklyWeightTarget: '0.00',
    createdAt: 2025-07-18T02:21:45.445Z,
    updatedAt: 2025-10-22T04:17:58.813Z
  }
}
ðŸ‹ï¸ RP Analysis - Bulking/Muscle Gain detected: {
  goalType: 'bulk',
  dietGoal: 'bulk',
  targetWeightChangePerWeek: 0,
  weightChange: 3.9549999999998513,
  adherencePercentage: 97
}
â¬‡ï¸ RP Recommendation: DECREASE CALORIES - Excessive weight gain (>3.5x target)
4:27:25 AM [express] GET /api/weekly-goals 304 in 245ms :: [{"userId":1,"weekStartDate":"2025-10-20Tâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:27:39 AM [express] GET /api/weight-goals 304 in 276ms :: [{"id":6,"userId":1,"currentWeight":"71.5â€¦
4:27:39 AM [express] GET /api/body-metrics 304 in 278ms :: [{"id":86,"userId":1,"date":"2025-10-17T0â€¦
4:27:39 AM [express] GET /api/user/profile 304 in 287ms :: {"user":{"id":1,"email":"c0109009@gmail.câ€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:28:40 AM [express] POST /api/body-metrics 200 in 381ms :: {"id":87,"userId":1,"date":"2025-10-22T0â€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:28:40 AM [express] GET /api/user/profile 200 in 87ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:28:41 AM [express] PUT /api/user/profile 200 in 101ms :: {"id":1,"userId":1,"age":30,"gender":"malâ€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:28:41 AM [express] GET /api/body-metrics 200 in 68ms :: [{"id":87,"userId":1,"date":"2025-10-22T00â€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:28:41 AM [express] GET /api/user/profile 200 in 88ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
ðŸ“… GET: Found checkin: null
4:28:48 AM [express] GET /api/daily-wellness-checkins 200 in 66ms
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:28:48 AM [express] GET /api/training/sessions 304 in 66ms :: [{"id":543,"userId":1,"programId":nulâ€¦
4:28:48 AM [express] GET /api/training/stats 304 in 228ms :: {"totalSessions":9,"totalVolume":99428,â€¦
4:28:48 AM [express] GET /api/diet-goals 304 in 274ms :: {"id":47,"userId":1,"tdee":"2595.00","goal"â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:28:48 AM [express] GET /api/nutrition/summary 304 in 322ms :: {"totalCalories":0,"totalProtein":0,â€¦
4:28:48 AM [express] GET /api/body-metrics 304 in 63ms :: [{"id":87,"userId":1,"date":"2025-10-22T00â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:28:48 AM [express] GET /api/activities 304 in 436ms :: [{"id":"nutrition-1671","type":"nutrition",â€¦
4:28:48 AM [express] GET /api/user/profile 304 in 90ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:28:48 AM [express] GET /api/weight-goals 304 in 65ms :: [{"id":6,"userId":1,"currentWeight":"71.50â€¦
4:28:48 AM [express] GET /api/nutrition/logs 304 in 64ms :: []
4:28:48 AM [express] GET /api/body-metrics 304 in 68ms :: [{"id":87,"userId":1,"date":"2025-10-22T00â€¦
4:28:48 AM [express] GET /api/nutrition/summary 304 in 111ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:28:49 AM [express] GET /api/user/profile 304 in 84ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:28:49 AM [express] GET /api/diet-goals 304 in 63ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
4:28:49 AM [express] GET /api/auto-adjustment-settings 304 in 64ms :: {"autoAdjustmentEnabled":true,â€¦
4:28:49 AM [express] GET /api/weight-goals 304 in 64ms :: [{"id":6,"userId":1,"currentWeight":"71.50â€¦
4:28:49 AM [express] GET /api/user/profile 304 in 85ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
4:28:49 AM [express] GET /api/body-metrics 304 in 138ms :: [{"id":87,"userId":1,"date":"2025-10-22T0â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
ðŸ“… GET: Found checkin: null
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:28:49 AM [express] GET /api/daily-wellness-checkins 200 in 65ms
4:28:49 AM [express] GET /api/nutrition/available-weeks 304 in 69ms :: [{"weekStart":"2025-10-20","lâ€¦
4:28:49 AM [express] GET /api/weekly-wellness-summary 304 in 67ms :: {"id":8,"userId":1,"weekStartDaâ€¦
4:28:49 AM [express] GET /api/flexibility-rules 304 in 66ms :: [{"id":1,"userId":1,"ruleName":"Weekeâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:28:49 AM [express] GET /api/analytics/comprehensive 200 in 101ms :: {"overview":{"nutritionConsistâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:28:50 AM [express] GET /api/meal-distribution 304 in 68ms :: [{"id":1,"userId":1,"mealType":"breakâ€¦
ðŸ’¾ getDietGoal query result in RP calculation: {
  id: 1,
  userId: 1,
  tdee: '2579.00',
  goal: 'bulk',
  targetCalories: '3150.00',
  customTargetCalories: null,
  useCustomCalories: false,
  targetProtein: '197.00',
  targetCarbs: '449.00',
  targetFat: '63.00',
  autoRegulation: true,
  weeklyWeightTarget: '0.00',
  createdAt: 2025-07-18T02:21:45.445Z,
  updatedAt: 2025-10-22T04:17:58.813Z
}
ðŸ‹ï¸ Weight Query Debug - Date ranges: {
  weekStart: '2025-10-20T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  previousWeekStart: '2025-10-13T00:00:00.000Z',
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z'
}
ðŸ‹ï¸ Weight Data Found: {
  currentWeekWeight: {
    id: 87,
    userId: 1,
    date: 2025-10-22T00:00:00.000Z,
    weight: '74.75',
    bodyFatPercentage: '13.10',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-22T04:28:40.402Z
  },
  previousWeekWeight: {
    id: 86,
    userId: 1,
    date: 2025-10-17T00:00:00.000Z,
    weight: '75.16',
    bodyFatPercentage: '12.50',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-17T13:14:15.412Z
  }
}
ðŸ” Weight Data for Linear Regression: {
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  totalDataPoints: 4
}
ðŸ§® Valid Weight Data Points: {
  total: 4,
  weights: [
    { date: '2025-10-22', weight: 74.75 },
    { date: '2025-10-17', weight: 75.16 },
    { date: '2025-10-15', weight: 74.21 },
    { date: '2025-10-10', weight: 74.03 }
  ]
}
ðŸ“ˆ Linear Regression Weight Analysis: {
  dataPoints: 4,
  dailySlope: '0.3110',
  weeklyTrendKg: '2.18',
  currentWeightKg: '74.8',
  oldestWeightKg: '74.0'
}
ðŸ” RP Algorithm Debug - All Variables: {
  hasCurrentDietGoal: true,
  hasCurrentWeight: true,
  hasPreviousWeight: true,
  goalType: 'bulk',
  goalTypeString: 'string',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 97,
  currentDietGoalFull: {
    id: 1,
    userId: 1,
    tdee: '2579.00',
    goal: 'bulk',
    targetCalories: '3150.00',
    customTargetCalories: null,
    useCustomCalories: false,
    targetProtein: '197.00',
    targetCarbs: '449.00',
    targetFat: '63.00',
    autoRegulation: true,
    weeklyWeightTarget: '0.00',
    createdAt: 2025-07-18T02:21:45.445Z,
    updatedAt: 2025-10-22T04:17:58.813Z
  }
}
ðŸ‹ï¸ RP Analysis - Bulking/Muscle Gain detected: {
  goalType: 'bulk',
  dietGoal: 'bulk',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 97
}
â¬‡ï¸ RP Recommendation: DECREASE CALORIES - Excessive weight gain (>3.5x target)
4:28:50 AM [express] GET /api/weekly-goals 200 in 202ms :: [{"userId":1,"weekStartDate":"2025-10-20Tâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
ðŸŽ¯ Immediate auto-adjustment triggered for user: 1
ðŸ“… Using week start date: 2025-10-20
ðŸŽ¯ Goal Detection Debug: {
  useCustomCalories: true,
  customTargetCalories: '3150.00',
  targetCalories: '3150.00',
  goalType: 'bulk'
}
ðŸ“Š Using CUSTOM calories: 3150
ðŸ”§ RP Adjustment Debug: {
  adherencePercentage: 97,
  goal: 'bulk',
  energyLevel: 7,
  hungerLevel: 5,
  sleepQuality: 7,
  stressLevel: 5,
  adherencePerception: 8,
  targetCalories: 3150
}
ðŸ”§ Base adjustment for goal bulk : 3
ðŸ”§ Pre-cap adjustment: { baseAdjustment: 3, wellnessAdjustment: 0, total: 3 }
ðŸ”§ Final adjustment percentage: 3
calculateRPAdjustment returning: {
  adjustmentRecommendation: 'increase_calories',
  adjustmentPercentage: 3,
  adjustmentReason: 'growth_optimization'
}
ðŸ“Š Calculated adjustment: 3 %
âœ… Applied 3% adjustment - New calories: 3245
âœ… Adjustment applied: {
  newCalories: 3245,
  newProtein: 197,
  newCarbs: 462,
  newFat: 65,
  adjustmentPercentage: 3
}
ðŸ“… Reset lastAutoAdjustment date to today
4:29:23 AM [express] POST /api/trigger-auto-adjustment 200 in 501ms :: {"adjustmentPercentage":3,"neâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:29:23 AM [express] GET /api/diet-goals 200 in 67ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:29:24 AM [express] GET /api/nutrition/summary 200 in 115ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
ðŸ’¾ getDietGoal query result in RP calculation: {
  id: 1,
  userId: 1,
  tdee: '2579.00',
  goal: 'bulk',
  targetCalories: '3245.00',
  customTargetCalories: null,
  useCustomCalories: false,
  targetProtein: '197.00',
  targetCarbs: '462.00',
  targetFat: '65.00',
  autoRegulation: true,
  weeklyWeightTarget: '0.00',
  createdAt: 2025-07-18T02:21:45.445Z,
  updatedAt: 2025-10-22T04:29:23.530Z
}
ðŸ‹ï¸ Weight Query Debug - Date ranges: {
  weekStart: '2025-10-20T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  previousWeekStart: '2025-10-13T00:00:00.000Z',
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z'
}
4:29:24 AM [express] GET /api/auto-adjustment-settings 200 in 146ms :: {"autoAdjustmentEnabled":trueâ€¦
ðŸ‹ï¸ Weight Data Found: {
  currentWeekWeight: {
    id: 87,
    userId: 1,
    date: 2025-10-22T00:00:00.000Z,
    weight: '74.75',
    bodyFatPercentage: '13.10',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-22T04:28:40.402Z
  },
  previousWeekWeight: {
    id: 86,
    userId: 1,
    date: 2025-10-17T00:00:00.000Z,
    weight: '75.16',
    bodyFatPercentage: '12.50',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-17T13:14:15.412Z
  }
}
ðŸ” Weight Data for Linear Regression: {
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  totalDataPoints: 4
}
ðŸ§® Valid Weight Data Points: {
  total: 4,
  weights: [
    { date: '2025-10-22', weight: 74.75 },
    { date: '2025-10-17', weight: 75.16 },
    { date: '2025-10-15', weight: 74.21 },
    { date: '2025-10-10', weight: 74.03 }
  ]
}
ðŸ“ˆ Linear Regression Weight Analysis: {
  dataPoints: 4,
  dailySlope: '0.3110',
  weeklyTrendKg: '2.18',
  currentWeightKg: '74.8',
  oldestWeightKg: '74.0'
}
ðŸ” RP Algorithm Debug - All Variables: {
  hasCurrentDietGoal: true,
  hasCurrentWeight: true,
  hasPreviousWeight: true,
  goalType: 'bulk',
  goalTypeString: 'string',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 96,
  currentDietGoalFull: {
    id: 1,
    userId: 1,
    tdee: '2579.00',
    goal: 'bulk',
    targetCalories: '3245.00',
    customTargetCalories: null,
    useCustomCalories: false,
    targetProtein: '197.00',
    targetCarbs: '462.00',
    targetFat: '65.00',
    autoRegulation: true,
    weeklyWeightTarget: '0.00',
    createdAt: 2025-07-18T02:21:45.445Z,
    updatedAt: 2025-10-22T04:29:23.530Z
  }
}
ðŸ‹ï¸ RP Analysis - Bulking/Muscle Gain detected: {
  goalType: 'bulk',
  dietGoal: 'bulk',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 96
}
â¬‡ï¸ RP Recommendation: DECREASE CALORIES - Excessive weight gain (>3.5x target)
4:29:24 AM [express] GET /api/weekly-goals 200 in 326ms :: [{"userId":1,"weekStartDate":"2025-10-20Tâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
ðŸ“… GET: Found checkin: null
4:30:16 AM [express] GET /api/training/sessions 304 in 294ms :: [{"id":543,"userId":1,"programId":nuâ€¦
4:30:16 AM [express] GET /api/daily-wellness-checkins 200 in 321ms
4:30:16 AM [express] GET /api/training/stats 304 in 317ms :: {"totalSessions":9,"totalVolume":99428,â€¦
4:30:16 AM [express] GET /api/body-metrics 304 in 317ms :: [{"id":87,"userId":1,"date":"2025-10-22T0â€¦
4:30:16 AM [express] GET /api/diet-goals 304 in 317ms :: {"id":47,"userId":1,"tdee":"2595.00","goal"â€¦
4:30:16 AM [express] GET /api/user/profile 200 in 317ms :: {"user":{"id":1,"email":"c0109009@gmail.câ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:30:17 AM [express] GET /api/nutrition/summary 304 in 123ms :: {"totalCalories":0,"totalProtein":0,â€¦
4:30:17 AM [express] GET /api/activities 304 in 223ms :: [{"id":"nutrition-1671","type":"nutrition",â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
ðŸ“… GET: Found checkin: null
4:30:18 AM [express] GET /api/diet-goals 304 in 77ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
4:30:18 AM [express] GET /api/auto-adjustment-settings 304 in 77ms :: {"autoAdjustmentEnabled":true,â€¦
4:30:18 AM [express] GET /api/body-metrics 304 in 75ms :: [{"id":87,"userId":1,"date":"2025-10-22T00â€¦
4:30:18 AM [express] GET /api/daily-wellness-checkins 200 in 75ms
4:30:18 AM [express] GET /api/weight-goals 304 in 71ms :: [{"id":6,"userId":1,"currentWeight":"71.50â€¦
4:30:18 AM [express] GET /api/user/profile 304 in 96ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.10.34
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:30:18 AM [express] GET /api/nutrition/available-weeks 304 in 66ms :: [{"weekStart":"2025-10-20","lâ€¦
4:30:18 AM [express] GET /api/weekly-wellness-summary 304 in 67ms :: {"id":8,"userId":1,"weekStartDaâ€¦
4:30:18 AM [express] GET /api/meal-distribution 304 in 66ms :: [{"id":1,"userId":1,"mealType":"breakâ€¦
4:30:18 AM [express] GET /api/flexibility-rules 304 in 68ms :: [{"id":1,"userId":1,"ruleName":"Weekeâ€¦
4:30:18 AM [express] GET /api/nutrition/summary 304 in 113ms :: {"totalCalories":0,"totalProtein":0,â€¦
4:30:18 AM [express] GET /api/analytics/comprehensive 304 in 166ms :: {"overview":{"nutritionConsistâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
4:30:19 AM [express] GET /api/nutrition/logs 304 in 67ms :: []
ðŸ’¾ getDietGoal query result in RP calculation: {
  id: 1,
  userId: 1,
  tdee: '2579.00',
  goal: 'bulk',
  targetCalories: '3245.00',
  customTargetCalories: null,
  useCustomCalories: false,
  targetProtein: '197.00',
  targetCarbs: '462.00',
  targetFat: '65.00',
  autoRegulation: true,
  weeklyWeightTarget: '0.00',
  createdAt: 2025-07-18T02:21:45.445Z,
  updatedAt: 2025-10-22T04:29:23.530Z
}
ðŸ‹ï¸ Weight Query Debug - Date ranges: {
  weekStart: '2025-10-20T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  previousWeekStart: '2025-10-13T00:00:00.000Z',
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z'
}
ðŸ‹ï¸ Weight Data Found: {
  currentWeekWeight: {
    id: 87,
    userId: 1,
    date: 2025-10-22T00:00:00.000Z,
    weight: '74.75',
    bodyFatPercentage: '13.10',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-22T04:28:40.402Z
  },
  previousWeekWeight: {
    id: 86,
    userId: 1,
    date: 2025-10-17T00:00:00.000Z,
    weight: '75.16',
    bodyFatPercentage: '12.50',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-17T13:14:15.412Z
  }
}
ðŸ” Weight Data for Linear Regression: {
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  totalDataPoints: 4
}
ðŸ§® Valid Weight Data Points: {
  total: 4,
  weights: [
    { date: '2025-10-22', weight: 74.75 },
    { date: '2025-10-17', weight: 75.16 },
    { date: '2025-10-15', weight: 74.21 },
    { date: '2025-10-10', weight: 74.03 }
  ]
}
ðŸ“ˆ Linear Regression Weight Analysis: {
  dataPoints: 4,
  dailySlope: '0.3110',
  weeklyTrendKg: '2.18',
  currentWeightKg: '74.8',
  oldestWeightKg: '74.0'
}
ðŸ” RP Algorithm Debug - All Variables: {
  hasCurrentDietGoal: true,
  hasCurrentWeight: true,
  hasPreviousWeight: true,
  goalType: 'bulk',
  goalTypeString: 'string',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 96,
  currentDietGoalFull: {
    id: 1,
    userId: 1,
    tdee: '2579.00',
    goal: 'bulk',
    targetCalories: '3245.00',
    customTargetCalories: null,
    useCustomCalories: false,
    targetProtein: '197.00',
    targetCarbs: '462.00',
    targetFat: '65.00',
    autoRegulation: true,
    weeklyWeightTarget: '0.00',
    createdAt: 2025-07-18T02:21:45.445Z,
    updatedAt: 2025-10-22T04:29:23.530Z
  }
}
ðŸ‹ï¸ RP Analysis - Bulking/Muscle Gain detected: {
  goalType: 'bulk',
  dietGoal: 'bulk',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 96
}
â¬‡ï¸ RP Recommendation: DECREASE CALORIES - Excessive weight gain (>3.5x target)
4:30:19 AM [express] GET /api/weekly-goals 304 in 202ms :: [{"userId":1,"weekStartDate":"2025-10-20Tâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
4:30:20 AM [express] GET /api/diet-goals 304 in 69ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
4:30:20 AM [express] GET /api/nutrition/summary 304 in 110ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
4:30:21 AM [express] GET /api/user/profile 304 in 89ms :: {"user":{"id":1,"email":"c0109009@gmail.coâ€¦
4:30:21 AM [express] GET /api/nutrition/logs 304 in 66ms :: []
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
ðŸ“… GET: Received date query: 2025-10-22
ðŸ“… GET: Parsed date: 2025-10-22T00:00:00.000Z
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
ðŸ“… GET: Found checkin: null
4:30:37 AM [express] GET /api/auto-adjustment-settings 304 in 306ms :: {"autoAdjustmentEnabled":trueâ€¦
4:30:37 AM [express] GET /api/daily-wellness-checkins 200 in 297ms
4:30:37 AM [express] GET /api/diet-goals 304 in 309ms :: {"id":47,"userId":1,"tdee":"2595.00","goal"â€¦
4:30:37 AM [express] GET /api/body-metrics 304 in 302ms :: [{"id":87,"userId":1,"date":"2025-10-22T0â€¦
4:30:37 AM [express] GET /api/user/profile 304 in 305ms :: {"user":{"id":1,"email":"c0109009@gmail.câ€¦
4:30:37 AM [express] GET /api/weight-goals 304 in 305ms :: [{"id":6,"userId":1,"currentWeight":"71.5â€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.5.178
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.11.137
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
4:30:38 AM [express] GET /api/nutrition/available-weeks 304 in 69ms :: [{"weekStart":"2025-10-20","lâ€¦
4:30:38 AM [express] GET /api/meal-distribution 304 in 66ms :: [{"id":1,"userId":1,"mealType":"breakâ€¦
4:30:38 AM [express] GET /api/weekly-wellness-summary 304 in 70ms :: {"id":8,"userId":1,"weekStartDaâ€¦
4:30:38 AM [express] GET /api/flexibility-rules 304 in 74ms :: [{"id":1,"userId":1,"ruleName":"Weekeâ€¦
4:30:38 AM [express] GET /api/analytics/comprehensive 304 in 195ms :: {"overview":{"nutritionConsistâ€¦
ðŸ’¾ getDietGoal query result in RP calculation: {
  id: 1,
  userId: 1,
  tdee: '2579.00',
  goal: 'bulk',
  targetCalories: '3245.00',
  customTargetCalories: null,
  useCustomCalories: false,
  targetProtein: '197.00',
  targetCarbs: '462.00',
  targetFat: '65.00',
  autoRegulation: true,
  weeklyWeightTarget: '0.00',
  createdAt: 2025-07-18T02:21:45.445Z,
  updatedAt: 2025-10-22T04:29:23.530Z
}
ðŸ‹ï¸ Weight Query Debug - Date ranges: {
  weekStart: '2025-10-20T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  previousWeekStart: '2025-10-13T00:00:00.000Z',
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z'
}
ðŸ‹ï¸ Weight Data Found: {
  currentWeekWeight: {
    id: 87,
    userId: 1,
    date: 2025-10-22T00:00:00.000Z,
    weight: '74.75',
    bodyFatPercentage: '13.10',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-22T04:28:40.402Z
  },
  previousWeekWeight: {
    id: 86,
    userId: 1,
    date: 2025-10-17T00:00:00.000Z,
    weight: '75.16',
    bodyFatPercentage: '12.50',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-17T13:14:15.412Z
  }
}
ðŸ” Weight Data for Linear Regression: {
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  totalDataPoints: 4
}
ðŸ§® Valid Weight Data Points: {
  total: 4,
  weights: [
    { date: '2025-10-22', weight: 74.75 },
    { date: '2025-10-17', weight: 75.16 },
    { date: '2025-10-15', weight: 74.21 },
    { date: '2025-10-10', weight: 74.03 }
  ]
}
ðŸ“ˆ Linear Regression Weight Analysis: {
  dataPoints: 4,
  dailySlope: '0.3110',
  weeklyTrendKg: '2.18',
  currentWeightKg: '74.8',
  oldestWeightKg: '74.0'
}
ðŸ” RP Algorithm Debug - All Variables: {
  hasCurrentDietGoal: true,
  hasCurrentWeight: true,
  hasPreviousWeight: true,
  goalType: 'bulk',
  goalTypeString: 'string',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 96,
  currentDietGoalFull: {
    id: 1,
    userId: 1,
    tdee: '2579.00',
    goal: 'bulk',
    targetCalories: '3245.00',
    customTargetCalories: null,
    useCustomCalories: false,
    targetProtein: '197.00',
    targetCarbs: '462.00',
    targetFat: '65.00',
    autoRegulation: true,
    weeklyWeightTarget: '0.00',
    createdAt: 2025-07-18T02:21:45.445Z,
    updatedAt: 2025-10-22T04:29:23.530Z
  }
}
ðŸ‹ï¸ RP Analysis - Bulking/Muscle Gain detected: {
  goalType: 'bulk',
  dietGoal: 'bulk',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 96
}
â¬‡ï¸ RP Recommendation: DECREASE CALORIES - Excessive weight gain (>3.5x target)
4:30:38 AM [express] GET /api/weekly-goals 304 in 306ms :: [{"userId":1,"weekStartDate":"2025-10-20Tâ€¦
[AI-Monitor] Hourly Report - Requests: 0, Success: 0%, Avg Response: 0ms, Cost: $0
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:32:49 AM [express] GET /api/nutrition/summary 304 in 4974ms :: {"totalCalories":0,"totalProtein":0â€¦
Auth check - Replit Auth authenticated: false
Auth check - Session userId: 1
4:33:28 AM [express] GET /api/nutrition/summary 304 in 2331ms :: {"totalCalories":0,"totalProtein":0â€¦
[AI-Monitor] Hourly Report - Requests: 0, Success: 0%, Avg Response: 0ms, Cost: $0
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
4:39:35 AM [express] GET /api/nutrition/summary 304 in 970ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
ðŸŽ¯ Immediate auto-adjustment triggered for user: 1
ðŸ“… Using week start date: 2025-10-20
ðŸŽ¯ Goal Detection Debug: {
  useCustomCalories: true,
  customTargetCalories: '3150.00',
  targetCalories: '3245.00',
  goalType: 'bulk'
}
ðŸ“Š Using CUSTOM calories: 3150
ðŸ”§ RP Adjustment Debug: {
  adherencePercentage: 97,
  goal: 'bulk',
  energyLevel: 7,
  hungerLevel: 5,
  sleepQuality: 7,
  stressLevel: 5,
  adherencePerception: 8,
  targetCalories: 3150
}
ðŸ”§ Base adjustment for goal bulk : 3
ðŸ”§ Pre-cap adjustment: { baseAdjustment: 3, wellnessAdjustment: 0, total: 3 }
ðŸ”§ Final adjustment percentage: 3
calculateRPAdjustment returning: {
  adjustmentRecommendation: 'increase_calories',
  adjustmentPercentage: 3,
  adjustmentReason: 'growth_optimization'
}
ðŸ“Š Calculated adjustment: 3 %
âœ… Applied 3% adjustment - New calories: 3342
âœ… Adjustment applied: {
  newCalories: 3342,
  newProtein: 197,
  newCarbs: 476,
  newFat: 67,
  adjustmentPercentage: 3
}
ðŸ“… Reset lastAutoAdjustment date to today
4:40:22 AM [express] POST /api/trigger-auto-adjustment 200 in 547ms :: {"adjustmentPercentage":3,"neâ€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:40:22 AM [express] GET /api/diet-goals 200 in 63ms :: {"id":47,"userId":1,"tdee":"2595.00","goal":â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
4:40:22 AM [express] GET /api/nutrition/summary 200 in 118ms :: {"totalCalories":0,"totalProtein":0,â€¦
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.7.184
Auth check - Session userId: 1
Auth check - Replit Auth authenticated: false
Security Notice: IP change detected for user 1. Previous: 10.83.4.161, Current: 10.83.2.94
Auth check - Session userId: 1
ðŸ’¾ getDietGoal query result in RP calculation: {
  id: 1,
  userId: 1,
  tdee: '2579.00',
  goal: 'bulk',
  targetCalories: '3342.00',
  customTargetCalories: null,
  useCustomCalories: false,
  targetProtein: '197.00',
  targetCarbs: '476.00',
  targetFat: '67.00',
  autoRegulation: true,
  weeklyWeightTarget: '0.00',
  createdAt: 2025-07-18T02:21:45.445Z,
  updatedAt: 2025-10-22T04:40:21.999Z
}
ðŸ‹ï¸ Weight Query Debug - Date ranges: {
  weekStart: '2025-10-20T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  previousWeekStart: '2025-10-13T00:00:00.000Z',
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z'
}
4:40:23 AM [express] GET /api/auto-adjustment-settings 200 in 158ms :: {"autoAdjustmentEnabled":trueâ€¦
ðŸ‹ï¸ Weight Data Found: {
  currentWeekWeight: {
    id: 87,
    userId: 1,
    date: 2025-10-22T00:00:00.000Z,
    weight: '74.75',
    bodyFatPercentage: '13.10',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-22T04:28:40.402Z
  },
  previousWeekWeight: {
    id: 86,
    userId: 1,
    date: 2025-10-17T00:00:00.000Z,
    weight: '75.16',
    bodyFatPercentage: '12.50',
    neck: null,
    chest: null,
    waist: null,
    hips: null,
    thigh: null,
    bicep: null,
    unit: 'metric',
    createdAt: 2025-10-17T13:14:15.412Z
  }
}
ðŸ” Weight Data for Linear Regression: {
  fourteenDaysAgo: '2025-10-06T00:00:00.000Z',
  weekEnd: '2025-10-26T00:00:00.000Z',
  totalDataPoints: 4
}
ðŸ§® Valid Weight Data Points: {
  total: 4,
  weights: [
    { date: '2025-10-22', weight: 74.75 },
    { date: '2025-10-17', weight: 75.16 },
    { date: '2025-10-15', weight: 74.21 },
    { date: '2025-10-10', weight: 74.03 }
  ]
}
ðŸ“ˆ Linear Regression Weight Analysis: {
  dataPoints: 4,
  dailySlope: '0.3110',
  weeklyTrendKg: '2.18',
  currentWeightKg: '74.8',
  oldestWeightKg: '74.0'
}
ðŸ” RP Algorithm Debug - All Variables: {
  hasCurrentDietGoal: true,
  hasCurrentWeight: true,
  hasPreviousWeight: true,
  goalType: 'bulk',
  goalTypeString: 'string',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 93,
  currentDietGoalFull: {
    id: 1,
    userId: 1,
    tdee: '2579.00',
    goal: 'bulk',
    targetCalories: '3342.00',
    customTargetCalories: null,
    useCustomCalories: false,
    targetProtein: '197.00',
    targetCarbs: '476.00',
    targetFat: '67.00',
    autoRegulation: true,
    weeklyWeightTarget: '0.00',
    createdAt: 2025-07-18T02:21:45.445Z,
    updatedAt: 2025-10-22T04:40:21.999Z
  }
}
ðŸ‹ï¸ RP Analysis - Bulking/Muscle Gain detected: {
  goalType: 'bulk',
  dietGoal: 'bulk',
  targetWeightChangePerWeek: 0,
  weightChange: 2.17700000000001,
  adherencePercentage: 93
}
â¬‡ï¸ RP Recommendation: DECREASE CALORIES - Excessive weight gain (>3.5x target)
4:40:23 AM [express] GET /api/weekly-goals 200 in 306ms :: [{"userId":1,"weekStartDate":"2025-10-20Tâ€¦
